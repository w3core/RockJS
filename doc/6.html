<h2 id="/doc/6">Events system</h2><p>Internally, RockJS is an event-based asynchronous framework. Any component can handle and emit internal and external events.</p><h3 id="/doc/6.1">Event body</h3><p>An event is an object with the following structure:</p><div class="table-wrapper"><table><thead><tr><th>Type</th><th>Name</th><th>Default</th></tr></thead><tbody><tr><td>String</td><td><code>type</code></td><td>‘’</td></tr><tr><td>Object</td><td><code>target</code></td><td>null</td></tr><tr><td>Mixed</td><td><code>data</code></td><td>null</td></tr><tr><td>Function</td><td><code>preventDefault()</code></td><td>null</td></tr><tr><td>Function</td><td><code>stopPropagation()</code></td><td>null</td></tr><tr><td>Boolean</td><td><code>defaultPrevented</code></td><td>false</td></tr><tr><td>Boolean</td><td><code>propagationStopped</code></td><td>false</td></tr><tr><td>Boolean</td><td><code>returnValue</code></td><td>true</td></tr></tbody></table></div><h3 id="/doc/6.2">Event prefix</h3><p>An event system is extended by the special pseudo-prefixes such as <code>:ready</code> and <code>:once</code>.</p><p>As for developer, these pseudo-prefixes, especially <code>:ready</code> allows to solve most of the day-to-day issues and simplify the code.</p><p>The most often case for asynchronous system is when the component that has handler for some event has been loaded after then the event has been dispatched.</p><p><code>:ready</code> - Indicates that the listener should be called even if the event has been emitted before the listener was added.</p><p><code>:once</code> - Indicates that the listener should be unsubscribed at once event will emitted.</p><h3 id="/doc/6.3">Event methods</h3><p>To handle or emit an external events can be used these methods:</p><ul><li><p><code>$R.on (types, listener)</code> - The method registers the specified listener for single or multiple space or comma separated events; Any event that passed as argument can contain any combination of pseudo-prefixes.</p></li><li><p><code>$R.off (types, listener)</code> - The method removes single or multiple space or comma separated events listener that was previously registered;</p></li><li><p><code>$R.emit (type, data, target, preventCallback, stopCallback, completeCallback)</code> - Asynchronously calls each of the listeners registered for the event <code>type</code>, passing the supplied <code>data</code> and <code>target</code> to each.</p><p>Also, an emmiter can handle calling of <code>preventDefault()</code>, <code>stopPropagation()</code> and complete of execution process;</p><blockquote><p>Note that only first argument <code>type</code> is required.</p></blockquote></li></ul><h3 id="/doc/6.4">Usage example</h3><pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>$R</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>emit</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>user.accepted</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span>&nbsp;</span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>id</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>:</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>12345</span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>email</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>:</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>lorem.ipsum@dolor.sit</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--line syntax--double-slash syntax--js"><span class="syntax--punctuation syntax--definition syntax--comment syntax--js"><span>//</span></span><span>...</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function syntax--js"><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>listener</span></span><span>&nbsp;</span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--js"><span>e</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"><span>console</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--console syntax--js"><span>log</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span>e</span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>e</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--dom syntax--js"><span>stopPropagation</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>$R</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>on</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>user.accepted:ready:once,&nbsp;user.rejected:ready,&nbsp;user.update</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span>&nbsp;listener</span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>&nbsp;</span></span></div></pre>